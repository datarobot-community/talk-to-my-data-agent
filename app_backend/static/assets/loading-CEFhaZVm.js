import{a3 as Se,a4 as q,a5 as pe,a6 as we,a7 as Pe,u as J,j as d,K as xe,M as Ce,N as Re,O as ye,a8 as Ee,Q as Te,U as Ae,B as Q,l as Z,r as i,x as T,X as De,s as je,P as D,w as H,v as R,a9 as C,y as Ne,e as ee,aa as te,ab as re}from"./index-Dr41AYLo.js";var Le=class extends Se{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:q()})}getOptimisticResult(e){return e.behavior=q(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,r){var g,P;const{state:t}=e,n=super.createResult(e,r),{isFetching:o,isRefetching:l,isError:a,isRefetchError:s}=n,c=(P=(g=t.fetchMeta)==null?void 0:g.fetchMore)==null?void 0:P.direction,h=a&&c==="forward",u=o&&c==="forward",b=a&&c==="backward",f=o&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:we(r,t.data),hasPreviousPage:pe(r,t.data),isFetchNextPageError:h,isFetchingNextPage:u,isFetchPreviousPageError:b,isFetchingPreviousPage:f,isRefetchError:s&&!h&&!b,isRefetching:l&&!u&&!f}}};function _e(e,r){return Pe(e,Le)}var U={},$;function Me(){return $||($=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var r="fas",t="trash",n=448,o=512,l=[],a="f1f8",s="M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z";e.definition={prefix:r,iconName:t,icon:[n,o,l,a,s]},e.faTrash=e.definition,e.prefix=r,e.iconName=t,e.width=n,e.height=o,e.ligatures=l,e.unicode=a,e.svgPathData=s,e.aliases=l}(U)),U}var Ze=Me();function et({open:e,onOpenChange:r,title:t,description:n,onConfirm:o,onCancel:l,confirmText:a,cancelText:s,isLoading:c,variant:h}){const{t:u}=J(),b=()=>{l==null||l(),r(!1)};return d.jsx(xe,{open:e,onOpenChange:r,children:d.jsxs(Ce,{className:"sm:max-w-md",children:[d.jsxs(Re,{children:[d.jsx(ye,{children:t}),d.jsx(Ee,{className:"border-t my-2"}),d.jsx(Te,{className:"mb-2",children:n})]}),d.jsxs(Ae,{children:[d.jsx(Q,{variant:"outline",onClick:b,children:s}),d.jsxs(Q,{variant:h,onClick:o,disabled:c,children:[c&&d.jsx("img",{src:Z,alt:u("processing"),className:"w-4 h-4 animate-spin"}),a]})]})]})})}function Oe(e,[r,t]){return Math.min(t,Math.max(r,e))}function We(e,r){return i.useReducer((t,n)=>r[t][n]??t,e)}var Y="ScrollArea",[oe,tt]=je(Y),[ze,S]=oe(Y),ne=i.forwardRef((e,r)=>{const{__scopeScrollArea:t,type:n="hover",dir:o,scrollHideDelay:l=600,...a}=e,[s,c]=i.useState(null),[h,u]=i.useState(null),[b,f]=i.useState(null),[v,g]=i.useState(null),[P,k]=i.useState(null),[x,j]=i.useState(0),[X,N]=i.useState(0),[L,A]=i.useState(!1),[_,M]=i.useState(!1),m=T(r,y=>c(y)),p=De(o);return d.jsx(ze,{scope:t,type:n,dir:p,scrollHideDelay:l,scrollArea:s,viewport:h,onViewportChange:u,content:b,onContentChange:f,scrollbarX:v,onScrollbarXChange:g,scrollbarXEnabled:L,onScrollbarXEnabledChange:A,scrollbarY:P,onScrollbarYChange:k,scrollbarYEnabled:_,onScrollbarYEnabledChange:M,onCornerWidthChange:j,onCornerHeightChange:N,children:d.jsx(D.div,{dir:p,...a,ref:m,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":X+"px",...e.style}})})});ne.displayName=Y;var le="ScrollAreaViewport",ae=i.forwardRef((e,r)=>{const{__scopeScrollArea:t,children:n,nonce:o,...l}=e,a=S(le,t),s=i.useRef(null),c=T(r,s,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(D.div,{"data-radix-scroll-area-viewport":"",...l,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ae.displayName=le;var w="ScrollAreaScrollbar",se=i.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=S(w,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:a}=o,s=e.orientation==="horizontal";return i.useEffect(()=>(s?l(!0):a(!0),()=>{s?l(!1):a(!1)}),[s,l,a]),o.type==="hover"?d.jsx(He,{...n,ref:r,forceMount:t}):o.type==="scroll"?d.jsx(Fe,{...n,ref:r,forceMount:t}):o.type==="auto"?d.jsx(ce,{...n,ref:r,forceMount:t}):o.type==="always"?d.jsx(B,{...n,ref:r}):null});se.displayName=w;var He=i.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=S(w,e.__scopeScrollArea),[l,a]=i.useState(!1);return i.useEffect(()=>{const s=o.scrollArea;let c=0;if(s){const h=()=>{window.clearTimeout(c),a(!0)},u=()=>{c=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",h),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",h),s.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),d.jsx(H,{present:t||l,children:d.jsx(ce,{"data-state":l?"visible":"hidden",...n,ref:r})})}),Fe=i.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=S(w,e.__scopeScrollArea),l=e.orientation==="horizontal",a=I(()=>c("SCROLL_END"),100),[s,c]=We("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(s==="idle"){const h=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[s,o.scrollHideDelay,c]),i.useEffect(()=>{const h=o.viewport,u=l?"scrollLeft":"scrollTop";if(h){let b=h[u];const f=()=>{const v=h[u];b!==v&&(c("SCROLL"),a()),b=v};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[o.viewport,l,c,a]),d.jsx(H,{present:t||s!=="hidden",children:d.jsx(B,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:R(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ce=i.forwardRef((e,r)=>{const t=S(w,e.__scopeScrollArea),{forceMount:n,...o}=e,[l,a]=i.useState(!1),s=e.orientation==="horizontal",c=I(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;a(s?h:u)}},10);return E(t.viewport,c),E(t.content,c),d.jsx(H,{present:n||l,children:d.jsx(B,{"data-state":l?"visible":"hidden",...o,ref:r})})}),B=i.forwardRef((e,r)=>{const{orientation:t="vertical",...n}=e,o=S(w,e.__scopeScrollArea),l=i.useRef(null),a=i.useRef(0),[s,c]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=fe(s.viewport,s.content),u={...n,sizes:s,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:f=>l.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function b(f,v){return Be(f,a.current,s,v)}return t==="horizontal"?d.jsx(Ie,{...u,ref:r,onThumbPositionChange:()=>{if(o.viewport&&l.current){const f=o.viewport.scrollLeft,v=K(f,s,o.dir);l.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollLeft=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollLeft=b(f,o.dir))}}):t==="vertical"?d.jsx(ke,{...u,ref:r,onThumbPositionChange:()=>{if(o.viewport&&l.current){const f=o.viewport.scrollTop,v=K(f,s);l.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:f=>{o.viewport&&(o.viewport.scrollTop=f)},onDragScroll:f=>{o.viewport&&(o.viewport.scrollTop=b(f))}}):null}),Ie=i.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...o}=e,l=S(w,e.__scopeScrollArea),[a,s]=i.useState(),c=i.useRef(null),h=T(r,c,l.onScrollbarXChange);return i.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),d.jsx(de,{"data-orientation":"horizontal",...o,ref:h,sizes:t,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,b)=>{if(l.viewport){const f=l.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),ve(f,b)&&u.preventDefault()}},onResize:()=>{c.current&&l.viewport&&a&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:W(a.paddingLeft),paddingEnd:W(a.paddingRight)}})}})}),ke=i.forwardRef((e,r)=>{const{sizes:t,onSizesChange:n,...o}=e,l=S(w,e.__scopeScrollArea),[a,s]=i.useState(),c=i.useRef(null),h=T(r,c,l.onScrollbarYChange);return i.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),d.jsx(de,{"data-orientation":"vertical",...o,ref:h,sizes:t,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,b)=>{if(l.viewport){const f=l.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),ve(f,b)&&u.preventDefault()}},onResize:()=>{c.current&&l.viewport&&a&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:W(a.paddingTop),paddingEnd:W(a.paddingBottom)}})}})}),[Xe,ie]=oe(w),de=i.forwardRef((e,r)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:o,onThumbChange:l,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:u,onResize:b,...f}=e,v=S(w,t),[g,P]=i.useState(null),k=T(r,m=>P(m)),x=i.useRef(null),j=i.useRef(""),X=v.viewport,N=n.content-n.viewport,L=C(u),A=C(c),_=I(b,10);function M(m){if(x.current){const p=m.clientX-x.current.left,y=m.clientY-x.current.top;h({x:p,y})}}return i.useEffect(()=>{const m=p=>{const y=p.target;(g==null?void 0:g.contains(y))&&L(p,N)};return document.addEventListener("wheel",m,{passive:!1}),()=>document.removeEventListener("wheel",m,{passive:!1})},[X,g,N,L]),i.useEffect(A,[n,A]),E(g,_),E(v.content,_),d.jsx(Xe,{scope:t,scrollbar:g,hasThumb:o,onThumbChange:C(l),onThumbPointerUp:C(a),onThumbPositionChange:A,onThumbPointerDown:C(s),children:d.jsx(D.div,{...f,ref:k,style:{position:"absolute",...f.style},onPointerDown:R(e.onPointerDown,m=>{m.button===0&&(m.target.setPointerCapture(m.pointerId),x.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),M(m))}),onPointerMove:R(e.onPointerMove,M),onPointerUp:R(e.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&p.releasePointerCapture(m.pointerId),document.body.style.webkitUserSelect=j.current,v.viewport&&(v.viewport.style.scrollBehavior=""),x.current=null})})})}),O="ScrollAreaThumb",ue=i.forwardRef((e,r)=>{const{forceMount:t,...n}=e,o=ie(O,e.__scopeScrollArea);return d.jsx(H,{present:t||o.hasThumb,children:d.jsx(Ue,{ref:r,...n})})}),Ue=i.forwardRef((e,r)=>{const{__scopeScrollArea:t,style:n,...o}=e,l=S(O,t),a=ie(O,t),{onThumbPositionChange:s}=a,c=T(r,b=>a.onThumbChange(b)),h=i.useRef(void 0),u=I(()=>{h.current&&(h.current(),h.current=void 0)},100);return i.useEffect(()=>{const b=l.viewport;if(b){const f=()=>{if(u(),!h.current){const v=Ve(b,s);h.current=v,s()}};return s(),b.addEventListener("scroll",f),()=>b.removeEventListener("scroll",f)}},[l.viewport,u,s]),d.jsx(D.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:R(e.onPointerDownCapture,b=>{const v=b.target.getBoundingClientRect(),g=b.clientX-v.left,P=b.clientY-v.top;a.onThumbPointerDown({x:g,y:P})}),onPointerUp:R(e.onPointerUp,a.onThumbPointerUp)})});ue.displayName=O;var V="ScrollAreaCorner",he=i.forwardRef((e,r)=>{const t=S(V,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?d.jsx(Ye,{...e,ref:r}):null});he.displayName=V;var Ye=i.forwardRef((e,r)=>{const{__scopeScrollArea:t,...n}=e,o=S(V,t),[l,a]=i.useState(0),[s,c]=i.useState(0),h=!!(l&&s);return E(o.scrollbarX,()=>{var b;const u=((b=o.scrollbarX)==null?void 0:b.offsetHeight)||0;o.onCornerHeightChange(u),c(u)}),E(o.scrollbarY,()=>{var b;const u=((b=o.scrollbarY)==null?void 0:b.offsetWidth)||0;o.onCornerWidthChange(u),a(u)}),h?d.jsx(D.div,{...n,ref:r,style:{width:l,height:s,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function W(e){return e?parseInt(e,10):0}function fe(e,r){const t=e/r;return isNaN(t)?0:t}function F(e){const r=fe(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-t)*r;return Math.max(n,18)}function Be(e,r,t,n="ltr"){const o=F(t),l=o/2,a=r||l,s=o-a,c=t.scrollbar.paddingStart+a,h=t.scrollbar.size-t.scrollbar.paddingEnd-s,u=t.content-t.viewport,b=n==="ltr"?[0,u]:[u*-1,0];return be([c,h],b)(e)}function K(e,r,t="ltr"){const n=F(r),o=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-o,a=r.content-r.viewport,s=l-n,c=t==="ltr"?[0,a]:[a*-1,0],h=Oe(e,c);return be([0,a],[0,s])(h)}function be(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}function ve(e,r){return e>0&&e<r}var Ve=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const l={left:e.scrollLeft,top:e.scrollTop},a=t.left!==l.left,s=t.top!==l.top;(a||s)&&r(),t=l,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function I(e,r){const t=C(e),n=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(n.current),[]),i.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function E(e,r){const t=C(r);Ne(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,t])}var qe=ne,Qe=ae,$e=he;function rt({className:e,children:r,...t}){return d.jsxs(qe,{"data-slot":"scroll-area",className:ee("relative",e),...t,children:[d.jsx(Qe,{"data-slot":"scroll-area-viewport",className:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1",children:r}),d.jsx(G,{orientation:"horizontal"}),d.jsx(G,{}),d.jsx($e,{})]})}function G({className:e,orientation:r="vertical",...t}){return d.jsx(se,{"data-slot":"scroll-area-scrollbar",orientation:r,className:ee("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...t,children:d.jsx(ue,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const me={all:["cleansed_datasets"],detail:e=>[...me.all,e]},z={all:["dataset_metadata"],detail:e=>[...z.all,e],list:e=>[...z.all,"list",...e]},Ke=async({name:e,skip:r=0,limit:t=100,signal:n})=>{const o=encodeURIComponent(e),{data:l}=await te.get(`/v1/datasets/${o}/cleansed?skip=${r}&limit=${t}`,{signal:n});return l},ge=async({name:e,signal:r})=>{const t=encodeURIComponent(e),{data:n}=await te.get(`/v1/datasets/${t}/metadata`,{signal:r});return n},ot=(e,r=100)=>_e({queryKey:me.detail(e),initialPageParam:0,queryFn:({pageParam:t=0,signal:n})=>Ke({name:e,skip:t,limit:r,signal:n}),getNextPageParam:(t,n)=>{const o=n.length*r;if(!(t.dataset.data_records.length<r))return o},staleTime:5*60*1e3}),nt=e=>re({queryKey:z.detail(e),queryFn:({signal:r})=>ge({name:e,signal:r}),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),lt=e=>re({queryKey:z.list(e),queryFn:async({signal:r})=>{const t=[];for(const n of e){const o=await ge({name:n,signal:r});t.push({name:n,metadata:o})}return t},staleTime:5*60*1e3,refetchOnWindowFocus:!1}),at=()=>{const{t:e}=J();return d.jsxs("div",{className:"flex flex-col flex-1 items-center justify-center h-full",children:[d.jsx("img",{src:Z,alt:"processing",className:"mr-2 w-4 h-4 animate-spin"}),d.jsx("span",{className:"ml-2",children:e("Loading...")})]})};export{et as C,at as L,rt as S,nt as a,lt as b,Ze as f,ot as u};
